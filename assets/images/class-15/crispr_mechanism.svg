<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 360">
  <defs>
    <marker id="arr3" markerWidth="8" markerHeight="8" refX="7" refY="3" orient="auto">
      <polygon points="0 0, 8 3, 0 6" fill="#10b981"/>
    </marker>
  </defs>

  <!-- Title -->
  <text x="450" y="28" text-anchor="middle" font-size="18" font-weight="bold" fill="#10b981">
    Mecanismo de CRISPR-Cas9: Las "Tijeras Moleculares"
  </text>

  <!-- Step 1: Guide RNA design -->
  <g id="step1">
    <circle cx="40" cy="80" r="18" fill="#8b5cf6"/>
    <text x="40" y="85" text-anchor="middle" font-size="13" fill="white" font-weight="bold">1</text>
    <rect x="65" y="58" width="155" height="55" rx="8" fill="#8b5cf6" opacity="0.12" stroke="#8b5cf6" stroke-width="1.5"/>
    <text x="143" y="78" text-anchor="middle" font-size="12" font-weight="bold" fill="#8b5cf6">ARN guÃ­a</text>
    <text x="143" y="94" text-anchor="middle" font-size="10" fill="#6b7280">Secuencia diseÃ±ada</text>
    <text x="143" y="107" text-anchor="middle" font-size="10" fill="#6b7280">para el gen objetivo</text>
  </g>

  <!-- Arrow 1â†’2 -->
  <line x1="222" y1="85" x2="252" y2="85" stroke="#10b981" stroke-width="2" marker-end="url(#arr3)"/>

  <!-- Step 2: Cas9 complex -->
  <g id="step2">
    <circle cx="258" cy="80" r="18" fill="#3b82f6"/>
    <text x="258" y="85" text-anchor="middle" font-size="13" fill="white" font-weight="bold">2</text>
    <rect x="283" y="58" width="155" height="55" rx="8" fill="#3b82f6" opacity="0.12" stroke="#3b82f6" stroke-width="1.5"/>
    <text x="361" y="78" text-anchor="middle" font-size="12" font-weight="bold" fill="#3b82f6">Cas9 + ARN guÃ­a</text>
    <text x="361" y="94" text-anchor="middle" font-size="10" fill="#6b7280">La proteÃ­na Cas9 se une</text>
    <text x="361" y="107" text-anchor="middle" font-size="10" fill="#6b7280">al ARN guÃ­a</text>
  </g>

  <!-- Arrow 2â†’3 -->
  <line x1="440" y1="85" x2="470" y2="85" stroke="#10b981" stroke-width="2" marker-end="url(#arr3)"/>

  <!-- Step 3: Find target -->
  <g id="step3">
    <circle cx="476" cy="80" r="18" fill="#f59e0b"/>
    <text x="476" y="85" text-anchor="middle" font-size="13" fill="white" font-weight="bold">3</text>
    <rect x="501" y="58" width="155" height="55" rx="8" fill="#f59e0b" opacity="0.12" stroke="#f59e0b" stroke-width="1.5"/>
    <text x="579" y="78" text-anchor="middle" font-size="12" font-weight="bold" fill="#f59e0b">BÃºsqueda del gen</text>
    <text x="579" y="94" text-anchor="middle" font-size="10" fill="#6b7280">El complejo recorre</text>
    <text x="579" y="107" text-anchor="middle" font-size="10" fill="#6b7280">el ADN hasta encontrar</text>
  </g>

  <!-- Arrow 3â†’4 -->
  <line x1="658" y1="85" x2="688" y2="85" stroke="#10b981" stroke-width="2" marker-end="url(#arr3)"/>

  <!-- Step 4: Cut -->
  <g id="step4">
    <circle cx="694" cy="80" r="18" fill="#ef4444"/>
    <text x="694" y="85" text-anchor="middle" font-size="13" fill="white" font-weight="bold">4</text>
    <rect x="719" y="58" width="155" height="55" rx="8" fill="#ef4444" opacity="0.12" stroke="#ef4444" stroke-width="1.5"/>
    <text x="797" y="78" text-anchor="middle" font-size="12" font-weight="bold" fill="#ef4444">Corte del ADN âœ‚</text>
    <text x="797" y="94" text-anchor="middle" font-size="10" fill="#6b7280">Cas9 corta las dos</text>
    <text x="797" y="107" text-anchor="middle" font-size="10" fill="#6b7280">cadenas del ADN</text>
  </g>

  <!-- DNA diagram in the middle -->
  <g id="dna-diagram" transform="translate(0, 140)">
    <!-- DNA before cut -->
    <text x="150" y="20" text-anchor="middle" font-size="12" font-weight="bold" fill="#6b7280">ADN Original</text>
    <!-- Double helix simplified -->
    <path d="M 60 50 Q 90 30 120 50 Q 150 70 180 50 Q 210 30 240 50" stroke="#8b5cf6" stroke-width="3" fill="none"/>
    <path d="M 60 60 Q 90 80 120 60 Q 150 40 180 60 Q 210 80 240 60" stroke="#3b82f6" stroke-width="3" fill="none"/>
    <!-- Target region highlight -->
    <rect x="130" y="28" width="60" height="42" rx="3" fill="#f59e0b" opacity="0.25" stroke="#f59e0b" stroke-width="1.5" stroke-dasharray="4,3"/>
    <text x="160" y="84" text-anchor="middle" font-size="10" fill="#f59e0b">Gen objetivo</text>

    <!-- Cas9 icon -->
    <circle cx="160" cy="20" r="15" fill="#ef4444" opacity="0.8"/>
    <text x="160" y="25" text-anchor="middle" font-size="9" fill="white" font-weight="bold">Cas9</text>
    <line x1="160" y1="35" x2="160" y2="48" stroke="#ef4444" stroke-width="2" marker-end="url(#arr3)"/>

    <!-- Arrow to results -->
    <line x1="255" y1="55" x2="285" y2="55" stroke="#10b981" stroke-width="2" marker-end="url(#arr3)"/>

    <!-- After cut - repair options -->
    <text x="450" y="20" text-anchor="middle" font-size="12" font-weight="bold" fill="#6b7280">DespuÃ©s del corte â†’ dos opciones</text>

    <!-- Option A: NHEJ (disable gene) -->
    <rect x="295" y="30" width="155" height="80" rx="8" fill="#ef4444" opacity="0.1" stroke="#ef4444" stroke-width="1.5"/>
    <text x="372" y="50" text-anchor="middle" font-size="11" font-weight="bold" fill="#ef4444">A) ReparaciÃ³n NHEJ</text>
    <text x="372" y="65" text-anchor="middle" font-size="10" fill="#1f2937">PequeÃ±as mutaciones</text>
    <text x="372" y="78" text-anchor="middle" font-size="10" fill="#1f2937">introducidas â†’ gen</text>
    <text x="372" y="91" text-anchor="middle" font-size="10" fill="#ef4444" font-weight="bold">desactivado âœ—</text>
    <text x="372" y="104" text-anchor="middle" font-size="9" fill="#6b7280">(Ãºtil para eliminar genes)</text>

    <!-- Option B: HDR (insert/repair) -->
    <rect x="460" y="30" width="155" height="80" rx="8" fill="#10b981" opacity="0.1" stroke="#10b981" stroke-width="1.5"/>
    <text x="537" y="50" text-anchor="middle" font-size="11" font-weight="bold" fill="#10b981">B) ReparaciÃ³n HDR</text>
    <text x="537" y="65" text-anchor="middle" font-size="10" fill="#1f2937">Se inserta secuencia</text>
    <text x="537" y="78" text-anchor="middle" font-size="10" fill="#1f2937">de ADN deseada â†’</text>
    <text x="537" y="91" text-anchor="middle" font-size="10" fill="#10b981" font-weight="bold">gen corregido âœ“</text>
    <text x="537" y="104" text-anchor="middle" font-size="9" fill="#6b7280">(Ãºtil para terapia gÃ©nica)</text>

    <!-- Applications box -->
    <rect x="630" y="25" width="255" height="100" rx="8" fill="#8b5cf6" opacity="0.1" stroke="#8b5cf6" stroke-width="1.5"/>
    <text x="757" y="45" text-anchor="middle" font-size="11" font-weight="bold" fill="#8b5cf6">Aplicaciones</text>
    <text x="645" y="62" font-size="10" fill="#1f2937">ğŸ”¬ InvestigaciÃ³n genÃ³mica</text>
    <text x="645" y="76" font-size="10" fill="#1f2937">ğŸŒ¾ Agricultura (resistencia)</text>
    <text x="645" y="90" font-size="10" fill="#1f2937">ğŸ’Š Terapia gÃ©nica (enfermedades)</text>
    <text x="645" y="104" font-size="10" fill="#ef4444">âš  EdiciÃ³n de embriones (debate)</text>
    <text x="645" y="118" font-size="10" fill="#1f2937">ğŸ¦Ÿ Control de plagas (malaria)</text>
  </g>

  <!-- Bottom note -->
  <text x="450" y="335" text-anchor="middle" font-size="11" fill="#6b7280" font-style="italic">
    Charpentier y Doudna describieron CRISPR-Cas9 como herramienta de ediciÃ³n genÃ©tica en 2012. Nobel de QuÃ­mica 2020.
  </text>
</svg>
